<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>تسجيل الدخول - بوابة القبول</title>
  <!-- استخدام Tailwind CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css">
  <style>
    /* تنسيقات أساسية لمحاكاة تصميم موقع جامعة الأميرة نورة */
    body {
      font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;
      background-color: #f5f7fa;
      margin: 0;
      padding: 0;
    }
    header {
      background-color: #f2f9f8;
      color:rgb(14, 40, 107);
      padding: 15px 0;
    }
    header .container {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    header img {
      width: 80px;
      height: 50px;
    }
    header h1 {
      font-size: 1em;
      margin: 0 10px;
    }
    nav a {
      color: #05085d;
      font-weight: bold;
      margin: 0 10px;
      text-decoration: none;
      transition: color 0.3s;
    }
    nav a:hover {
      color: #090842;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 15px;
    }
    .btn {
      background-color: #100366;
      color: #fff;
      padding: 10px;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    .btn:hover {
      background-color: #005580;
    }
    input[type="text"],
    input[type="password"] {
      width: 100%;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 4px;
      margin-bottom: 15px;
    }
    .page {
      background-color: #fff;
      padding: 20px;
      border-radius: 6px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      margin-bottom: 20px;
    }
  </style>
</head>
<body>
  <!-- رأس الموقع -->
  <header>
    <div class="container flex items-center justify-between px-4">
      <div class="flex items-center">
        <!-- استبدل رابط الشعار برابط شعار الجامعة الفعلي -->
        <img src="logos.webp" alt="شعار الجامعة">
        <h1>بوابة القبول الأكاديمي</h1>
      </div>
      <nav>
        <a href="#">الرئيسية</a>
        <a href="#">عن الجامعة</a>
        <a href="#">القبول</a>
        <a href="#">التواصل</a>
      </nav>
    </div>
  </header>

  <!-- المحتوى الرئيسي -->
  <div id="content" class="container mt-8 px-4">
    <div id="loginPage" class="page min-h-screen flex items-center justify-center">
      <div class="w-full max-w-md">
        <h2 class="text-2xl font-bold mb-6 text-center">تسجيل الدخول</h2>
        <input type="text" id="identityNumber" placeholder="الرقم الجامعي">
        <input type="password" id="password" placeholder="كلمة المرور">
        <div class="flex items-center mb-4">
          <input type="checkbox" id="rememberMe" class="mr-2">
          <label for="rememberMe">تذكرني</label>
        </div>
        <button onclick="handleLogin()" class="btn w-full">تسجيل الدخول</button>
        <div id="message" class="text-red-500 mt-4 text-center"></div>
      </div>
    </div>
  </div>

  <script>
    // دالة معالجة تسجيل الدخول والتحقق من البيانات
    function handleLogin() {
      const identityNumber = document.getElementById('identityNumber').value.trim();
      const password = document.getElementById('password').value.trim();
      const rememberMe = document.getElementById('rememberMe').checked;
      const messageDiv = document.getElementById('message');

      // بيانات الاعتماد الثابتة
      const validCredentials = [
        { id: '20251234', pass: '1121001398' },
        { id: '469225965', pass: '0593160642' },
        { id: '463910', pass: '1132973189' }
      ];


      

      // التحقق من بيانات الاعتماد
      const isValidUser = validCredentials.some(cred => cred.id === identityNumber && cred.pass === password);

      if (isValidUser) {
        if (rememberMe) {
          localStorage.setItem('savedIdentity', identityNumber);
        } else {
          localStorage.removeItem('savedIdentity');
        }
        // إعادة توجيه المستخدم إلى صفحة التأكيد
        window.location.href = "banner.html";
      } else {
        messageDiv.textContent = 'خطأ: رقم الطلب أو كلمة المرور غير صحيحة.';
      }
    }

    // عند تحميل الصفحة، قم بملء رقم الطلب إذا كان محفوظًا
    window.onload = function() {
      const savedIdentity = localStorage.getItem('savedIdentity');
      if (savedIdentity) {
        document.getElementById('identityNumber').value = savedIdentity;
        document.getElementById('rememberMe').checked = true;
      }
    };
  </script>
  <!doctype html>
<html lang="ar" dir="rtl">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>نموذج تسجيل — جامعة الإمام عبدالرحمن بن فيصل</title>
<link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Arabic:wght@300;400;600;700&display=swap" rel="stylesheet">
<style>
:root{--brand:#004a8f;--brand-dark:#003b73;--muted:#6b7280;--card:#fff;--bg:#f4f7fb;--success:#1e9a4b}
*{box-sizing:border-box;font-family:"IBM Plex Sans Arabic",system-ui,-apple-system,"Segoe UI",Roboto,Arial;}
body{margin:0;background:var(--bg);color:#07203a}
.container{max-width:1100px;margin:36px auto;padding:18px}
.btn-primary{background:var(--brand);color:#fff;padding:14px 22px;border-radius:10px;border:0;font-size:18px;cursor:pointer;box-shadow:0 6px 18px rgba(4,19,56,0.08)}
.btn-primary:hover{background:var(--brand-dark)}
.card{background:var(--card);border-radius:12px;padding:20px;box-shadow:0 6px 24px rgba(10,20,40,0.06)}
header.page-head{text-align:center;padding:18px 8px;margin-bottom:10px}
header.page-head h1{margin:6px 0;color:var(--brand);font-size:22px}
header.page-head p{margin:0;color:var(--muted);font-size:14px}
.form-grid{display:grid;grid-template-columns:1fr 1fr;gap:14px}
.full{grid-column:1/-1}
label{display:block;font-weight:600;margin-bottom:6px}
input[type=text], input[type=email], input[type=number], input[type=date], select, textarea {width:100%;padding:10px;border:1px solid #d6dbe6;border-radius:8px;font-size:15px;background:#fff;}
select:invalid{color:#888}
.small{font-size:13px;color:var(--muted);margin-top:6px}
fieldset{border:1px solid #e6ecf6;border-radius:10px;padding:14px;margin-bottom:12px;background:#fff}
legend{font-weight:700;color:var(--brand);padding:0 8px}
.file-row{display:flex;gap:10px;align-items:center;margin-top:6px}
.img-preview{max-width:140px;max-height:100px;border-radius:8px;border:1px solid #e1e6f0;padding:6px;background:#fbfdff;object-fit:cover}
.payment-section{background:#eaf3ff;border:2px solid var(--brand);padding:12px;border-radius:10px}
.actions{display:flex;gap:12px;justify-content:center;margin-top:14px}
.btn-secondary{background:#6b7280;color:#fff;border:0;padding:10px 14px;border-radius:8px;cursor:pointer}
.muted{color:var(--muted);font-size:13px}
.toast{position:fixed;left:50%;transform:translateX(-50%);top:18px;background:#0b1221;color:#fff;padding:10px 16px;border-radius:8px;box-shadow:0 6px 20px rgba(2,6,23,0.2);display:none;z-index:9999}
.toast.show{display:block;animation:slideDown .28s ease}
@keyframes slideDown{from{transform:translate(-50%,-10px);opacity:0}to{transform:translate(-50%,0);opacity:1}}
.success-box{text-align:center;padding:28px;border-radius:10px;background:#e8fbef;border:1px solid #dff3df;color:var(--success);display:none}
.success-box.show{display:block}
@media (max-width:880px){.form-grid{grid-template-columns:1fr}}
</style>
</head>
<body>
<div class="container">

<!-- زر طلب جديد -->
<div style="text-align:center; margin:20px 0;">
  <button id="openFormBtn" class="btn-primary">تقديم طلب جديد</button>
</div>

<!-- النموذج -->
<div id="formCard" class="card" style="display:none; max-width:900px; margin:auto">
  <header class="page-head">
    <h1>نموذج تسجيل — جامعة الإمام عبدالرحمن بن فيصل</h1>
    <p class="muted">املأ الحقول أدناه بدقة. الحقول بعلامة * مطلوبة.</p>
  </header>

  <form id="admissionForm" class="formcarryForm" action="https://formcarry.com/s/ON8xkE-353d" enctype="multipart/form-data" novalidate>
    <!-- Personal -->
    <fieldset>
      <legend>البيانات الشخصية / Personal Details</legend>
      <div class="form-grid">
        <div><label>الاسم الرباعي (بالعربية) *</label><input type="text" name="fullNameAr" required></div>
        <div><label>Full name (English)</label><input type="text" name="fullNameEn"></div>
        <div><label>رقم الهوية / الإقامة *</label><input type="text" name="nationalId" required pattern="[0-9\-]{4,}"></div>
        <div><label>تاريخ الميلاد / Date of birth *</label><input type="date" name="birthDate" required></div>
        <div><label>الجنس / Gender *</label><select name="gender" required><option value="">اختر</option><option value="male">ذكر</option><option value="female">أنثى</option></select></div>
        <div><label>الجنسية / Nationality *</label>
          <select id="nationality" name="nationality" required>
            <option value="">اختر</option>
            <option value="saudi">سعودي / Saudi</option>
            <option value="non_saudi">غير سعودي / Non-Saudi</option>
          </select>
        </div>
        <div id="nonSaudiArea" style="display:none"><label>رقم الإقامة</label><input type="text" name="residencyNo"></div>
        <div id="nonSaudiArea2" style="display:none"><label>تاريخ انتهاء الإقامة</label><input type="date" name="residencyExpiry"></div>
        <div><label>رقم الجوال / Mobile *</label><input type="text" name="phone" required></div>
        <div><label>البريد الإلكتروني / Email *</label><input type="email" name="email" required></div>
        <div class="full"><label>العنوان / Address</label><input type="text" name="address"></div>
      </div>
    </fieldset>

    <!-- Academic -->
    <fieldset>
      <legend>البيانات الأكاديمية / Academic</legend>
      <div class="form-grid">
        <div><label>نوع الشهادة / Certificate type *</label><select name="certificateType" required><option value="">اختر</option><option value="thnawy">ثانوي عام</option><option value="mokrart">نظام المقررات</option><option value="equivalent">معادلة (خارج السعودية)</option></select></div>
        <div><label>سنة التخرج / Graduation year *</label><input type="number" name="gradYear" min="1980" max="2100" required></div>
        <div><label>نسبة الثانوية / Percentage (%) *</label><input type="number" name="gpa" min="0" max="100" step="0.01" required></div>
        <div><label>رقم الجلوس (قياس) / Qiyas ID</label><input type="text" name="qiyasId"></div>
        <div><label>درجة القدرات / Qudrat</label><input type="number" name="qiyasQudrat" min="0" max="100"></div>
        <div><label>درجة التحصيلي / Tahseeli</label><input type="number" name="qiyasTahseeli" min="0" max="100"></div>
        <div class="full"><label>جهة إصدار الشهادة / School or issuer</label><input type="text" name="schoolName"></div>
      </div>
    </fieldset>

    <!-- Choices -->
    <fieldset>
      <legend>الرغبات / Choices</legend>
      <div class="form-grid">
        <div><label>الرغبة الأولى *</label><input type="text" name="choice1" required></div>
        <div><label>الرغبة الثانية</label><input type="text" name="choice2"></div>
        <div><label>الرغبة الثالثة</label><input type="text" name="choice3"></div>
        <div><label>المسار / Track</label><select name="track"><option value="">اختر</option><option value="scientific">علمي</option><option value="literary">أدبي</option><option value="health">صحي</option></select></div>
      </div>
    </fieldset>

    <!-- Documents -->
    <fieldset>
      <legend>رفع المستندات / Documents</legend>
      <div class="form-grid">
        <div>
          <label>صورة الهوية / ID *</label>
          <input type="file" name="idFile" id="idFile" required accept=".jpg,.jpeg,.png,.pdf">
          <div class="file-row" id="idPreviewWrap" style="display:none"><img class="img-preview" id="idPreviewImg"><span id="idPreviewName" class="small"></span></div>
        </div>
        <div>
          <label>صورة الشهادة / Certificate *</label>
          <input type="file" name="certificateFile" id="certFile" required accept=".jpg,.jpeg,.png,.pdf">
          <div class="file-row" id="certPreviewWrap" style="display:none"><img class="img-preview" id="certPreviewImg"><span id="certPreviewName" class="small"></span></div>
        </div>
        <div>
          <label>رفع إيصال الدفع / Payment receipt *</label>
          <input type="file" name="paymentReceipt" id="receiptFile" required accept=".jpg,.jpeg,.png,.pdf">
          <div class="file-row" id="receiptPreviewWrap" style="display:none"><img class="img-preview" id="receiptPreviewImg"><span id="receiptPreviewName" class="small"></span></div>
        </div>
      </div>
    </fieldset>

    <!-- Declaration -->
    <fieldset>
      <legend>الإقرار / Declaration</legend>
      <label style="display:flex;gap:10px;align-items:center"><input type="checkbox" name="agree" required> أقر بأن جميع البيانات صحيحة وأتحمل مسؤوليتها.</label>
    </fieldset>

    <div class="actions">
      <button type="submit" class="btn-primary">إرسال الطلب</button>
      <button type="button" id="cancelBtn" class="btn-secondary">إلغاء</button>
    </div>
  </form>
</div>

<!-- Success -->
<div id="successBox" class="success-box">
  <h3 style="color:var(--brand)">✅ تم إرسال الطلب بنجاح</h3>
  <p class="muted">شكرًا لك، سيتم معالجة طلبك وسيتم التواصل معك عبر الجوال أو البريد الإلكتروني.</p>
</div>

<!-- Toast -->
<div id="toast" class="toast"></div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.4/jquery.min.js"></script>
<script>
// Show form button
const openFormBtn = document.getElementById('openFormBtn');
const formCard = document.getElementById('formCard');
const admissionForm = document.getElementById('admissionForm');
const successBox = document.getElementById('successBox');
const toast = document.getElementById('toast');
const cancelBtn = document.getElementById('cancelBtn');

// Show/hide form
openFormBtn.addEventListener('click', ()=>{formCard.style.display='block';window.scrollTo({top:formCard.offsetTop-20,behavior:'smooth'});});
cancelBtn.addEventListener('click', ()=>{admissionForm.reset();hideAllPreviews();formCard.style.display='none';successBox.style.display='none';});

// Nationality toggle
const nationality = document.getElementById('nationality');
const nonSaudiArea = document.getElementById('nonSaudiArea');
const nonSaudiArea2 = document.getElementById('nonSaudiArea2');
nationality.addEventListener('change', ()=>{if(nationality.value==='non_saudi'){nonSaudiArea.style.display='block';nonSaudiArea2.style.display='block';}else{nonSaudiArea.style.display='none';nonSaudiArea2.style.display='none';}});

// File previews
function handlePreview(inputEl, wrapEl, imgEl, nameEl){
  const file = inputEl.files[0];
  if(!file){wrapEl.style.display='none';imgEl.src='';nameEl.textContent='';return;}
  const ext = file.name.split('.').pop().toLowerCase();
  if(['jpg','jpeg','png','gif'].includes(ext)){const reader=new FileReader();reader.onload=function(e){imgEl.src=e.target.result;wrapEl.style.display='flex';nameEl.textContent=file.name;};reader.readAsDataURL(file);}
  else{imgEl.src='';wrapEl.style.display='flex';nameEl.textContent=file.name+' (PDF)';imgEl.style.display='none';setTimeout(()=>{imgEl.style.display='';},20);}
}
function hideAllPreviews(){['idPreviewWrap','certPreviewWrap','receiptPreviewWrap'].forEach(id=>document.getElementById(id).style.display='none');['idPreviewImg','certPreviewImg','receiptPreviewImg'].forEach(id=>document.getElementById(id).src='');['idPreviewName','certPreviewName','receiptPreviewName'].forEach(id=>document.getElementById(id).textContent='');}
['idFile','certFile','receiptFile'].forEach(id=>document.getElementById(id).addEventListener('change',()=>handlePreview(document.getElementById(id),document.getElementById(id+'PreviewWrap'),document.getElementById(id+'PreviewImg'),document.getElementById(id+'PreviewName'))));

// Toast
function showToast(msg,time=2200){toast.textContent=msg;toast.classList.add('show');toast.style.display='block';setTimeout(()=>{toast.classList.remove('show');toast.style.display='none';},time);}

// Submit via Formcarry
$('.formcarryForm').submit(function(e){
  e.preventDefault();
  const formData = new FormData(this);
  // ensure all required files are attached
  const requiredFiles = ['idFile','certFile','receiptFile'];
  for(let f of requiredFiles){if(!document.getElementById(f).files[0]){showToast('الرجاء رفع جميع الملفات المطلوبة');return;}}
  $.ajax({
    type:"POST",
    url:$(this).attr('action'),
    data:formData,
    dataType:'json',
    processData:false,
    contentType:false,
    success:function(response){if(response.status==='success'){admissionForm.style.display='none';successBox.style.display='block';showToast('تم إرسال الطلب بنجاح');setTimeout(()=>{admissionForm.reset();hideAllPreviews();formCard.style.display='none';successBox.style.display='none';},2000);}}, 
    error:function(jqXHR){const err=jqXHR.responseJSON;alert("Request failed: "+(err?.title||'')+" "+(err?.message||''));}
  });
});
</script>
</body>
</html>
</body>
</html>



